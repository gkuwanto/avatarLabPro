(this.webpackJsonpavatar=this.webpackJsonpavatar||[]).push([[0],{114:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),s=(a(98),a(59)),c=a.n(s),l=a(76),u=a(47),h=a(48),d=a(52),m=a(51),p=a(39),b=a(12),g=a(38),f=a(77),v={fire:"#FF6961",water:"#5AACCF",earth:"#80C271",air:"#EFFC93"},y={nodeHighlightBehavior:!0,node:{color:"lightgreen",size:120,highlightStrokeColor:"blue"},link:{highlightColor:"lightblue"},width:window.innerWidth-20},k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).onClickNode=function(e){var t=n.state.dictionary[e];fetch("https://avatar.labpro.dev/friends/"+t).then((function(e){return e.json()})).then((function(e){return e.payload})).then((function(e){var t=[],a=[];e.friends.forEach((function(r){var i;n.state.dictionary[r.name]||(t.push({id:r.name,color:v[r.element]}),n.setState({dictionary:Object(g.a)(Object(g.a)({},n.state.dictionary),{},Object(b.a)({},r.name,r.id))}),n.state.linkDict[e.name+r.name]||(a.push({source:e.name,target:r.name}),n.setState({linkDict:Object(g.a)(Object(g.a)({},n.state.linkDict),{},(i={},Object(b.a)(i,e.name+r.name,!0),Object(b.a)(i,r.name+e.name,!0),i))})))})),n.setState({nodes:[].concat(Object(p.a)(n.state.nodes),t)}),n.setState({links:[].concat(Object(p.a)(n.state.links),a)})}))};var r=Object(b.a)({},e.user.name,e.user.id),i={};return e.user.friends.forEach((function(t){r[t.name]=t.id,i[t.name+e.user.name]=!0,i[e.user.name+t.name]=!0})),n.state={nodes:[{id:e.user.name,color:v[e.user.element]}].concat(Object(p.a)(e.user.friends.map((function(e){return{id:e.name,color:v[e.element]}})))),links:Object(p.a)(e.user.friends.map((function(t){return{source:e.user.name,target:t.name}}))),dictionary:r,linkDict:i},n}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(f.Graph,{id:"graph-id",data:{nodes:this.state.nodes,links:this.state.links},config:y,onClickNode:this.onClickNode})}}]),a}(r.a.Component),w=a(151),j=a(10),E=a(154),O=a(156),C=a(157),x=a(158),N=a(83),F=a.n(N),A=Object(w.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(j.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(j.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function S(){var e=A();return r.a.createElement("div",{className:e.grow},r.a.createElement(E.a,{position:"static"},r.a.createElement(O.a,null,r.a.createElement(C.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(F.a,null)),r.a.createElement(x.a,{className:e.title,variant:"h6",noWrap:!0},"Avatar"),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop}))))}a(114);var L=a(160),B=a(159),I=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).search=function(t){t.preventDefault(),e.traverse(e.state.searchTerm)},e.traverse=function(){var t=Object(l.a)(c.a.mark((function t(a){var n,r,i,o,s,l,u,h=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=h.length>1&&void 0!==h[1]?h[1]:1,r={},o={},(i=[]).push(n);case 5:if(!i.length){t.next=31;break}if(n=i.pop(),!o[n]){t.next=9;break}return t.abrupt("continue",5);case 9:if(o[n]=!0,s=void 0,!(n in e.state.userLists)){t.next=15;break}s=r[n],t.next=22;break;case 15:return t.next=17,fetch("https://avatar.labpro.dev/friends/"+n,{cache:"force-cache"});case 17:return l=t.sent,t.next=20,l.json();case 20:u=t.sent,s=u.payload;case 22:if(r[s.id]=s,!s.name.includes(a)){t.next=28;break}return console.log(s),e.setState({user:null}),e.setState({user:s}),t.abrupt("return");case 28:s.friends.forEach((function(e){o[e.id]||i.push(e.id)})),t.next=5;break;case 31:e.setState({userLists:r});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={users:{},searchTerm:"",visited:{},userLists:{}},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement("form",{className:"form",style:{margin:"0 10px"},onSubmit:this.search},r.a.createElement(L.a,{id:"outlined-full-width",placeholder:"Input your query here",style:{width:"100%",margin:"20px"},margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(t){return e.setState({searchTerm:t.target.value})}}),r.a.createElement(B.a,{type:"submit",variant:"contained",style:{height:"60px",margin:"10px"}},"Search")),r.a.createElement("div",{className:"container"},this.state.user?r.a.createElement(k,{user:this.state.user,userLists:this.state.userLists}):null),r.a.createElement("p",{style:{margin:"10px"}},r.a.createElement("span",{style:{color:"#5AACCF",backgroundColor:"lightgray"}},"Water.\xa0"),r.a.createElement("span",{style:{color:"#80C271",backgroundColor:"lightgray"}},"Earth.\xa0"),r.a.createElement("span",{style:{color:"#FF6961",backgroundColor:"lightgray"}},"Fire.\xa0"),r.a.createElement("span",{style:{color:"#EFFC93",backgroundColor:"lightgray"}},"Air.\xa0"),"My grandmother used to tell me stories about the old days, a time of peace when the Avatar kept balance between the Water Tribes, Earth Kingdom, Fire Nation, and Air Nomads. But that all changed when the Fire Nation attacked. Only the Avatar mastered all four elements. Only he could stop the ruthless firebenders. But when the world needed him most, he vanished. A hundred years have passed and the Fire Nation is nearing victory in the War. Two years ago, my father and the men of my tribe journeyed to the Earth Kingdom to help fight against the Fire Nation, leaving me and my brother to look after our tribe. Some people believe that the Avatar was never reborn into the Air Nomads, and that the cycle is broken. But I haven't lost hope. I still believe that somehow, the Avatar will return to save the world."))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(117)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.d4ae0d8d.chunk.js.map