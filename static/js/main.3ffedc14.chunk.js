(this.webpackJsonpavatar=this.webpackJsonpavatar||[]).push([[0],{114:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),o=(a(98),a(59)),c=a.n(o),l=a(76),u=a(47),d=a(48),h=a(52),m=a(51),p=a(39),b=a(12),f=a(38),g=a(77),v={fire:"#FF6961",water:"#5AACCF",earth:"#80C271",air:"#EFFC93"},k={nodeHighlightBehavior:!0,node:{color:"lightgreen",size:120,highlightStrokeColor:"blue"},link:{highlightColor:"lightblue"},width:window.innerWidth-20},j=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).onClickNode=function(e){var t=n.state.dictionary[e];fetch("https://avatar.labpro.dev/friends/"+t).then((function(e){return e.json()})).then((function(e){return e.payload})).then((function(e){var t=[],a=[];e.friends.forEach((function(r){var i;n.state.dictionary[r.name]||(t.push({id:r.name,color:v[r.element]}),n.setState({dictionary:Object(f.a)(Object(f.a)({},n.state.dictionary),{},Object(b.a)({},r.name,r.id))}),n.state.linkDict[e.name+r.name]||(a.push({source:e.name,target:r.name}),n.setState({linkDict:Object(f.a)(Object(f.a)({},n.state.linkDict),{},(i={},Object(b.a)(i,e.name+r.name,!0),Object(b.a)(i,r.name+e.name,!0),i))})))})),n.setState({nodes:[].concat(Object(p.a)(n.state.nodes),t)}),n.setState({links:[].concat(Object(p.a)(n.state.links),a)})}))};var r=Object(b.a)({},e.user.name,e.user.id),i={};return e.user.friends.forEach((function(t){r[t.name]=t.id,i[t.name+e.user.name]=!0,i[e.user.name+t.name]=!0})),n.state={nodes:[{id:e.user.name,color:v[e.user.element]}].concat(Object(p.a)(e.user.friends.map((function(e){return{id:e.name,color:v[e.element]}})))),links:Object(p.a)(e.user.friends.map((function(t){return{source:e.user.name,target:t.name}}))),dictionary:r,linkDict:i},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(g.Graph,{id:"graph-id",data:{nodes:this.state.nodes,links:this.state.links},config:k,onClickNode:this.onClickNode})}}]),a}(r.a.Component),O=a(151),w=a(10),y=a(154),E=a(156),x=a(157),C=a(158),N=a(83),S=a.n(N),L=Object(O.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(w.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(w.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function D(){var e=L();return r.a.createElement("div",{className:e.grow},r.a.createElement(y.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(S.a,null)),r.a.createElement(C.a,{className:e.title,variant:"h6",noWrap:!0},"Avatar"),r.a.createElement("div",{className:e.grow}),r.a.createElement("div",{className:e.sectionDesktop}))))}a(114);var I=a(160),B=a(159),F=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).search=function(t){t.preventDefault(),e.traverse(e.state.searchTerm)},e.traverse=function(){var t=Object(l.a)(c.a.mark((function t(a){var n,r,i,s,o,l,u,d=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=d.length>1&&void 0!==d[1]?d[1]:1,r={},s={},(i=[]).push(n);case 5:if(!i.length){t.next=31;break}if(n=i.pop(),!s[n]){t.next=9;break}return t.abrupt("continue",5);case 9:if(s[n]=!0,o=void 0,!(n in e.state.userLists)){t.next=15;break}o=r[n],t.next=22;break;case 15:return t.next=17,fetch("https://avatar.labpro.dev/friends/"+n,{cache:"force-cache"});case 17:return l=t.sent,t.next=20,l.json();case 20:u=t.sent,o=u.payload;case 22:if(r[o.id]=o,!o.name.includes(a)){t.next=28;break}return console.log(o),e.setState({user:null}),e.setState({user:o}),t.abrupt("return");case 28:o.friends.forEach((function(e){s[e.id]||i.push(e.id)})),t.next=5;break;case 31:e.setState({userLists:r});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={users:{},searchTerm:"",visited:{},userLists:{}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement("form",{className:"form",style:{margin:"0 10px"},onSubmit:this.search},r.a.createElement(I.a,{id:"outlined-full-width",placeholder:"Input your query here",style:{width:"100%",margin:"20px"},margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(t){return e.setState({searchTerm:t.target.value})}}),r.a.createElement(B.a,{type:"submit",variant:"contained",style:{height:"60px",margin:"10px"}},"Search")),r.a.createElement("div",{className:"container"},this.state.user?r.a.createElement(j,{user:this.state.user,userLists:this.state.userLists}):null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(117)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.3ffedc14.chunk.js.map